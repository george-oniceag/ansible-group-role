## Ansible generated file - do not edit !!!
## File generated by Ansible role '{{role_path|basename}}'
##############################################

## Cotents of this file are used to grand sudo rights to the groups mentioned bellow
## For default configuration and global value please use or consult /etc/sudoers

#############################################

## Define Command Aliases for groups
{% if sudo_cmnd_alias is defined and sudo_cmnd_alias is not none %}
{% for name,value in sudo_cmnd_alias.iteritems() %}
{% if value is not string and value is iterable %}
 Cmnd_Alias {{name|upper}} = {{value|join(', ')}}
{% elif value is not none %}
 Cmnd_Alias {{name|upper}} = {{value}}
{% endif %}
{% endfor %}
{% endif %}

## Define Host Aliasses for groups
{% if sudo_host_alias is defined and sudo_host_alias is not none %}
{% for name,value in sudo_host_alias.iteritems() %}
{% if value is not string and value is iterable %}
 Host_Alias {{name|upper}} = {{value|join(', ')}}
{% elif value is not none %}
 Host_Alias {{name|upper}} = {{value}}
{% endif %}
{% endfor %}
{% endif %}

## Define Group Aliasses
{% if sudo_group_alias is defined and sudo_group_alias is not none %}
{% for name,value in sudo_group_alias.iteritems() %}
{% if value is not string and value is iterable %}
 User_Alias {{name|upper}} = {{value|join(', ')}}
{% elif value is not none %}
 User_Alias {{name|upper}} = {{value}}
{% endif %}
{% endfor %}
{% endif %}

## Define SUDO rights on groups 
{% if system_groups is defined %}
{% for value in system_groups %}
{% if value.sudo is defined %}
{% for value_sudo in value.sudo %}
{% set tmp_value = '%'+value.name %}
{% if value_sudo.place is defined and value_sudo.place is not none %}
{% set tmp_value = tmp_value+' '+value_sudo.place %}
{% else %}
{% set tmp_value = tmp_value+' localhost' %}
{% endif %}
{% if value_sudo.run_as is defined and value_sudo.run_as is not none %}
{% set tmp_value = tmp_value+'=('+value_sudo.run_as+')' %}
{% else %}
{% set tmp_value = tmp_value+'=(nobody:nobody)' %}
{% endif %}
{% if value_sudo.nopasswd is defined and value_sudo.nopasswd == "yes" %}
{% set tmp_value = tmp_value+' NOPASSWD:' %}
{% endif %}
{% if value_sudo.command is defined and value_sudo.command is iterable and value_sudo.command is not string %}
{% set tmp_value = tmp_value+' '+value_sudo.command.join(', ')  %}
{% elif value_sudo.command is defined and value_sudo.command is not none %}
{% set tmp_value = tmp_value+' '+value_sudo.command %} 
{% else %}
{% set tmp_value = tmp_value+' none' %}
{% endif %}
{{tmp_value}}
{% endfor %}
{% endif %}
{% endfor %}
{% endif %}

